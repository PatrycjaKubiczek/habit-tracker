{"version":3,"sources":["firebase.js","components/TaskRow.js","components/Mycontainer.js","App.js","serviceWorker.js","index.js"],"names":["firebase","require","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","StyledCol","styled","div","_templateObject","TaskRow","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getDaysArrayByMonth","daysInMonthMoment","moment","daysInMonth","arrDays","current","date","push","format","reverse","handleClick","e","preventDefault","target","className","subtractPoint","removeDate","addPoint","addDate","datesRef","database","ref","newid","child","pushDate","dataset","set","key","remove","updatePercentage","pointRef","points","state","length","update","habitPoints","pointsRef","once","snapshot","val","perc","changeIntoPercentage","percentage","getDates","newDates","forEach","undefined","setState","arrDates","dates","map","part","total","Math","ceil","editTitle","editingTask","saveTitle","input","habitTitle","error","deleteHabit","habits","askToConfirm","show","confirm","confirmed","handleClose","handleChange","value","currentMonth","oldDates","title","currentHabits","prevProps","prevState","console","log","daysInCurrentMonthArr","datesFromArr","_this2","_this$state","react_default","a","createElement","style","textAlign","minHeight","fontWeight","marginBottom","type","focus","onChange","onKeyPress","Button","variant","size","onClick","class","Modal","onHide","Header","closeButton","Title","Body","Footer","Row","Col","md","sm","minWidth","flexWrap","alignItems","display","number","index","includes","data-date","id","border","data-key","justifyContent","flexDirection","dist_default","data","color","startOffset","cy","cx","totalValue","lineWidth","startAngle","rounded","label","_ref","dataIndex","round","labelStyle","fontSize","fontFamily","labelPosition","width","height","margin","Component","Mycontainer_templateObject","Mycontainer","setHabits","on","loading","newState","habit","idkey","habitId","addNewHabit","renderHabitList","newhabits","newDatesArr","TaskRow_TaskRow","N","Array","from","v","k","Mycontainer_StyledCol","href","rel","Container","Spinner","animation","role","Fragment","maxWidth","padding","InputGroup","FormControl","placeholder","aria-label","aria-describedby","boxShadow","Append","borderColor","backgroundColor","App","components_Mycontainer","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2593ed58.chunk.js","sourcesContent":["// import firebase from 'firebase'\nconst firebase = require('firebase/app');\n// require('firebase/auth');\nrequire('firebase/database');\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyBczyXF8LB_35hI6awLk4lyYfjNPzN5bIo\",\n    authDomain: \"habit-tracker-ade9c.firebaseapp.com\",\n    databaseURL: \"https://habit-tracker-ade9c.firebaseio.com\",\n    projectId: \"habit-tracker-ade9c\",\n    storageBucket: \"habit-tracker-ade9c.appspot.com\",\n    messagingSenderId: \"552514933256\",\n    appId: \"1:552514933256:web:24f0cee2d4931841\"\n  };\n  // Initialize\n\nfirebase.initializeApp(firebaseConfig)\n\n\nexport default firebase","import React, { Component } from 'react';\nimport { Row, Col, Button, Modal } from 'react-bootstrap';\nimport styled from 'styled-components';\nimport firebase from '../firebase.js'\nimport moment from 'moment';\nimport ReactMinimalPieChart from 'react-minimal-pie-chart';\n// import TaskCol from './TaskCol.js'\n\nconst StyledCol = styled.div`\npadding: 20px;\nborder: 1px solid #ddd;\nmargin: 10px -10px; \nbackground: #fff;\nborder-radius: 5px;\n@media screen and (max-width: 769px){\n\tmargin: 10px\n}\n.col {\n\tmargin: 2px;\n\tcursor: pointer;\n\tuser-select: none;\n}\n.fa {\n\tdisplay: none\n}\n.task {\n\tborder: 1px solid #E0DCE2;\n\twidth: 25px;\n\theight: 25px;\n\tflex: 0 0 25px;\n\tpadding: 0;\n\ttransition: background ease-in-out .09s\n\t&:hover {\n\t\tbackground: rgb(40, 167, 69, .5);\n\t\tcolor: #000;\n\t}\n}\n.taskDone.col{\n\tcolor: white;\n\tbackground: #28a745;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\t&:hover {\n\t\tbackground: rgb(40, 167, 69, .5);\n\t}\n}\n@media (hover: none) {\n\t.taskDone.col:hover {\n\t\tbackground: #28a745;\n\t}\n}\n.habit-title {\n\tdisplay: inline-block;\n\tmax-width: 80%;\n\tborder: 2px solid transparent;\n}\n.habit-btns {\n\tfloat: right;\n\tcolor: #ddd;\n}\n.input-title {\n\tmargin-left: -7px;\n\tpadding-left: 8px;\n\toutline: none;\n\tborder: 1px solid #007bff;\n\twidth: 75%;\n\tfont-weight: bold;\n}\n`\n\nexport default class TaskRow extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tdaysInMonth: [],\n\t\t\tcurrentMonth: '',\n\t\t\tarrDates: [],\n\t\t\toldDates: {},\n\t\t\tdates: this.props.dates,\n\t\t\teditingTask: false,\n\t\t\tinput: this.props.title,\n\t\t\tcurrentHabits: this.props.habits,\n\t\t\tconfirmed: false,\n\t\t\tshow: false,\n\t\t\terror: false\n\t\t}\n\t}\n\n\tgetDaysArrayByMonth = () => {\n\t\tvar daysInMonthMoment = moment().daysInMonth();\n\t\tvar arrDays = [];\n\n\t\twhile(daysInMonthMoment) {\n\t\t\tvar current = moment().date(daysInMonthMoment);\n\t\t\tarrDays.push(current.format(\"DD-MM-YYYY\"));\n\t\t\tdaysInMonthMoment--;\n\t\t}\n\t\treturn arrDays.reverse();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tconsole.log(this.state.editingTask)\n\t}\n\n\tcomponentWillMount(){\n\t\t\n\t\tlet daysInCurrentMonthArr = this.getDaysArrayByMonth();\n\t\tlet datesFromArr = this.getDates();\n\t\tthis.setState({\n\t\t\tdaysInMonth: daysInCurrentMonthArr,\n\t\t\tarrDates: datesFromArr\n\t\t})\n\t}\n\n\n\thandleClick = (e) => {\n\t\te.preventDefault();\n\t\tif(e.target.className === 'task taskDone col') {\n\t\t\tthis.subtractPoint()\n\t\t\tthis.removeDate(e)\n\t\t\te.target.className = 'task col';\n\t\t} else if(e.target.className === 'task col') {\n\t\t\tthis.addPoint()\n\t\t\tthis.addDate(e)\n\t\t\te.target.className = 'task taskDone col'\n\t\t}\n\t}\n\n\taddDate = (e) => {\n\t\tlet datesRef = firebase.database().ref('habits/' + this.props.newid).child('dates');\n\t\tlet pushDate = e.target.dataset.date;\n\t\tvar newPushedRef = datesRef.push();\n\t\tnewPushedRef.set({pushDate});\n\t}\n\n\tremoveDate = e => {\n\t\tlet datesRef = firebase.database().ref('habits/' + this.props.newid).child('dates'); // TODO \n\t\tlet removeDate = e.target.dataset.key;\n\t\tlet removeRefs = datesRef.child(removeDate)\n\t\tremoveRefs.remove();\n\t\tthis.updatePercentage();\n\t}\n\n\taddPoint = () => {\n\t\tlet pointRef = firebase.database().ref('habits/' + this.props.newid);\n\t\tif(this.props.points >= 0 && (this.props.points <= (this.state.daysInMonth.length - 1))){\n\t\t\tpointRef.update({habitPoints: this.props.points + 1});\n\t\t}\n\t\tthis.updatePercentage()\n\t}\n\tupdatePercentage = (e) => {\n\t\tlet pointsRef = firebase.database().ref('habits/' + this.props.newid);\n\t\tpointsRef.once('value', snapshot => {\n\t\t\tlet habitPoints = snapshot.child('habitPoints').val()\n\t\t\tlet perc = this.changeIntoPercentage(habitPoints, 30)\n\t\t\tpointsRef.update({percentage: perc});\n\t\t})\n\t}\n\n\tsubtractPoint = (e) => {\n\t\tlet pointRef = firebase.database().ref('habits/' + this.props.newid +'/');\n\t\tif(this.props.points === 0)\n\t\t\treturn;\n\t\tpointRef.update({habitPoints: this.props.points - 1});\n\t}\n\n\tgetDates = () => {\n\t\tlet datesRef = firebase.database().ref('habits/' + this.props.newid + '/dates');\n\t\tdatesRef.once('value', snapshot => {\n\t\t\tlet newDates = []\n\t\t\tsnapshot.forEach((child) => {\n\t\t\t\tif(child.val().pushDate !== undefined){\n\t\t\t\t\tnewDates.push(child.val().pushDate)\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.setState({\n\t\t\t\tarrDates: newDates\n\t\t\t})\n\t\t})\n\n\n\t\tif(this.state.dates !== undefined){\n\t\t\tlet datesMoment = this.state.dates.map((date) => {\n\t\t\t\treturn moment(date).format(\"DD-MM-YYYY\");\n\t\t\t});\n\t\t}\n\t}\n\tchangeIntoPercentage = (part, total) =>{\n\t\treturn Math.ceil((100 * part) / total); \n\t}\n\teditTitle = (e) => {\n\t\tif(this.state.editingTask){\n\t\t\tthis.setState({editingTask: false})\n\t\t} else {\n\t\t\tthis.setState({editingTask: true})\n\t\t}\n\n\t}\n\n\tsaveTitle = (e) => {\n\t\tif(this.state.input.length == 0){\n\t\t\tthis.setState({error: true})\n\t\t\treturn;\n\t\t}\n\t\tlet titleRef = firebase.database().ref('habits/' + this.props.newid +'/');\n\t\ttitleRef.update({habitTitle: this.state.input});\n\t\tthis.setState({editingTask: false})\n\t\tthis.setState({error: false})\n\t}\n\tdeleteHabit = (habits) => {\n\t\t\n\t\tlet habitRefs = firebase.database().ref('habits/');\n\t\tlet datesRef = firebase.database().ref('habits/' + this.props.newid).remove();\n\t\t\n\t}\n\taskToConfirm = () => {\n\t\tthis.setState({show: true})\n\t}\n\tconfirm = () => {\n\t\tthis.setState({confirmed: true})\n\t\tthis.setState({show: false})\n\t\tthis.deleteHabit()\n\t}\n\thandleClose = () => {\n\t\tthis.setState({show: false})\n\t}\n\thandleChange = e => {\n\t\tthis.setState({ input: e.target.value });\n\t}\n\n\trender() {\n\t\tconst { editingTask, error } = this.state;\n\n\t\treturn (\n\t\t\t<StyledCol className=\"col-md-6 col-sm-12\" style={{}}>\n\n\t\t\t<div style={{textAlign: 'left', minHeight: '30px'}}>\n\t\t\t<p style={{fontWeight: 'bold', marginBottom: '5px'}}>\n\n\t\t\t{!editingTask && <span className=\"habit-title\">{this.props.title}</span> }\n\t\t\t{editingTask && \n\t\t\t\t<input type=\"text\" \n\t\t\t\tclassName={error ? 'input-title error' : 'input-title'}\n\t\t\t\tref={input => input && input.focus()} \n\t\t\t\tvalue={this.state.input} \n\t\t\t\tonChange={this.handleChange} \n\t\t\t\tonKeyPress={e => {if(e.key === 'Enter'){ this.saveTitle()}}} \n\t\t\t\t/> }\n\t\t\t\t<span className=\"habit-btns\"> \n\t\t\t\t{!editingTask ? \n\t\t\t\t\t<Button variant=\"light mr-2\" size=\"sm\" onClick={this.editTitle} title=\"edytuj tytuł\">\n\t\t\t\t\t<i className=\"fas fa-edit\" ></i>\n\t\t\t\t\t</Button> :\n\t\t\t\t\t<Button variant=\"light mr-2\" size=\"sm\" onClick={this.saveTitle} title=\"zapisz\">\n\t\t\t\t\t<i class=\"fas fa-check\"></i>\n\t\t\t\t\t</Button> \n\t\t\t\t}\n\t\t\t\t<Button variant=\"light\" size=\"sm\" onClick={this.askToConfirm} title=\"usuń\"><i className=\"far fa-trash-alt\" ></i></Button>\n\t\t\t\t</span>\n\t\t\t\t</p>\n\n\t\t\t\t<Modal show={this.state.show} onHide={this.handleClose}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Potwierdź usunięcie</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>Czy na pewno chcesz usunąć ten nawyk?</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t<Button variant=\"secondary\" onClick={this.handleClose}>\n\t\t\t\tAnuluj\n\t\t\t\t</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={this.confirm}>\n\t\t\t\tTak\n\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\n\t\t\t\t</div>\n\t\t\t\t<Row>\n\t\t\t\t<Col md={6} sm={12}>\n\n\t\t\t\t<div style={{minWidth: '205px', flexWrap: 'wrap', alignItems: 'center', display: 'flex'}}>\n\t\t\t\t{this.state.daysInMonth.map((number, index) => {\n\t\t\t\t\tif(this.props.dates.includes(number)){\n\t\t\t\t\t\tfor(let date in this.props.oldDates){\n\t\t\t\t\t\t\tif(this.props.oldDates[date].pushDate === number)\n\t\t\t\t\t\t\t\treturn <Col className=\"task taskDone\" data-key={date} data-date={number} newid={\"task_\" + this.props.newid + \"_\" + number} key={number} onClick={this.handleClick} style={{border: '1px solid #28a745 '}}>{index+1}</Col>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn <Col className=\"task\" data-date={number} id={\"task_\" + this.props.id + \"_\" + number} key={number} onClick={this.handleClick} style={{border: '1px solid #28a745'}}>{index+1}</Col>\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\t</div>\n\t\t\t</Col>\n\t\t\t<Col md={6} sm={12} style={{display: 'flex', justifyContent:'center', alignItems: 'center', flexDirection: 'column'}}>\n\t\t\t<p>Postęp:</p>\n\t\t\t<ReactMinimalPieChart\n\t\t\tdata={[{\n\t\t\t\tvalue: this.props.percentage,\n\t\t\t\tcolor: '#28a745',\n\t\t\t\tstartOffset: 0,\n\t\t\t}]}\n\t\t\tcy={50}\n\t\t\tcx={50}\n\t\t\ttotalValue={100}\n\t\t\tlineWidth={20}\n\t\t\tstartAngle={270}\n\t\t\trounded\n\t\t\t// animate\n\t\t\tlabel={({ data, dataIndex }) =>\n\t\t\tMath.round(data[dataIndex].percentage) + '%'\n\t\t}\n\t\tlabelStyle={{\n\t\t\tfontSize: '25px',\n\t\t\tfontFamily: 'sans-serif'\n\t\t}}\n\t\tlabelPosition={0}\n\t\tstyle={{width: \"100px\", height: \"100px\", margin: '10px'}}\n\t\t/>\n\t\t<p>{this.props.points}/30</p>\n\t\t</Col>\n\t\t</Row>\n\n\t\t</StyledCol>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport firebase from '../firebase.js'\n\nimport { Container, Row, Col, Button, Spinner, InputGroup, FormControl } from 'react-bootstrap';\nimport styled from 'styled-components';\nimport TaskRow from './TaskRow'\n\n\nconst StyledCol = styled.div`\n.col {\n\tmargin: 2px;\n\tcursor: pointer;\n\tuser-select: none;\n}\n\n.task {\n\tborder: 1px solid #E0DCE2;\n\twidth: 25px;\n\theight: 25px;\n\tflex: 0 0 25px;\n\tpadding: 0;\n}\n\n.calendar {\n\tcursor: default\n}\n.error {\n\tborder-color: red\n}\n`\n\nclass Mycontainer extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tdaysInMonth: [],\n\t\t\thabits: [],\n\t\t\tloading: true,\n\t\t\tinput: '',\n\t\t\terror: false\n\t\t}\n\t}\n\ncomponentWillMount(){\n\tconst daysMonth = (N) => Array.from({length: N}, (v, k) => k+1); //TODO \n\tthis.setState({\n\t\tdaysInMonth: daysMonth(30)\n\t})\n\t\n}\n\ncomponentDidMount(){\n\tthis.setHabits()\n\n}\n\nsetHabits = () => {\n\tconst habitRef = firebase.database().ref('habits');\n\thabitRef.on('value', snapshot => {\n\t\tthis.setState({loading: false})\n\t\tlet habits = snapshot.val();\n\n\t\tlet newState = [];\n\t\tfor (let habit in habits) {\n\t\t\tnewState.push({\n\t\t\t\tidkey: habit,\n\t\t\t\tid: habits[habit].habitId,\n\t\t\t\thabit: habits[habit].habitTitle,\n\t\t\t\tpoints: habits[habit].habitPoints,\n\t\t\t\tdates: habits[habit].dates,\n\t\t\t\tpercentage: habits[habit].percentage\n\t\t\t});\n\t\t}\n\t\tthis.setState({\n\t\t\thabits: newState\n\t\t})\n\n\t});\n}\n\nhandleChange = e => {\n\tthis.setState({ input: e.target.value });\n}\n\naddNewHabit = e => {\n\tif(this.state.input.length == 0){\n\t\tthis.setState({error: true})\n\t\treturn\n\t}\n\tconst habitRef = firebase.database().ref('habits');\n\thabitRef.push({\n\t\thabitTitle: this.state.input,\n\t\thabitPoints: 0,\n\t\tdates: {},\n\t\tpercentage: 0\n\t});\n\tthis.setState({error: false})\n}\n\nrenderHabitList = (habit, index, newhabits) => {\n\tlet newDatesArr = [];\n\tfor (let date in habit.dates){\n\t\tnewDatesArr.push(habit.dates[date].pushDate)\n\t}\n\treturn (<TaskRow habits={newhabits} percentage={habit.percentage} title={habit.habit} dates={newDatesArr} oldDates={habit.dates} points={habit.points} newid={habit.idkey} />)\n};\n\n\nrender(){\n\tconst { loading, error } = this.state;\n\n\treturn (\n\t\t<StyledCol>\n\t\t<link href=\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\" rel=\"stylesheet\" />\n\n\t\t{loading && \n\t\t\t<Container style={{display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column', height: '90vh'}}>\n\t\t\t<p>Wczytywanie...</p>\n\t\t\t<Spinner animation=\"border\" role=\"status\">\n\t\t\t<span className=\"sr-only\">Wczytywanie...</span>\n\t\t\t</Spinner>\n\t\t\t</Container>\n\t\t}\n\t\t{!loading &&\n\t\t\t<>\n\t\t\t<Container style={{maxWidth: '900px', display: 'flex', justifyContent: 'space-between', padding: '5px'}}>\n\t\t\t<Row style={{width: '100%', padding: '20px 0', margin: '20px 0  0 0', justifyContent: 'space-between'}}>\n\t\t\t<h2>Czerwiec</h2>\n\t\t\t<Col md={6} style={{padding: '0 0 0 10px'}}>\n\t\t\t{error && <small style={{display: 'block', textAlign:'left', color: 'red'}}>pole jest wymagane *</small>}\n\t\t\t<InputGroup className=\"mb-3\">\n\t\t\t<FormControl ref=\"taskInput\"\n\t\t\tplaceholder=\"wpisz nazwę...\"\n\t\t\taria-label=\"wpisz nazwę...\"\n\t\t\taria-describedby=\"basic-addon2\"\n\t\t\tonChange={this.handleChange}\n\t\t\tstyle={{boxShadow: 'none'}}\n\t\t\tclassName={error ? 'error' : ''}\n\t\t\t/>\n\t\t\t\n\t\t\t<InputGroup.Append>\n\t\t\t<Button onClick={this.addNewHabit} style={{borderColor: '#58a4b0', backgroundColor: '#58a4b0', boxShadow: 'none'}}>dodaj nowy nawyk</Button>\n\t\t\t</InputGroup.Append>\n\t\t\t</InputGroup>\n\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t</Container>\n\n\t\t\t<Container style={{maxWidth: '900px', display: 'flex', flexWrap: 'wrap', justifyContent: 'space-between'}}>\n\t\t\t{this.state.habits.map(this.renderHabitList)}\n\t\t\t</Container>\n\t\t\t<Container style={{maxWidth: '900px'}}>\n\t\t\t\n\t\t\t</Container>\n\t\t\t</>\n\t\t}\n\n\t\t</StyledCol>\n\t\t);\n}\n}\n\nexport default Mycontainer;","import React from 'react';\n// import firebase from './firebase.js'\nimport './App.css';\nimport Mycontainer from './components/Mycontainer';\n\nfunction App() {\n\treturn (\n\n\t\t<div className=\"App\">\n\n\t\t<header className=\"App-header\">\n\t\t<h2 style={{margin: '20px 0'}}>Habit tracker</h2>\n\t\t</header>\n\t\t<main>\n\t\t<Mycontainer />\n\t\t</main>\n\t\t</div>\n\t\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}