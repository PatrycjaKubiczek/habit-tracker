(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(t,e,n){t.exports=n(256)},132:function(t,e,n){},133:function(t,e,n){},256:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(23),o=n.n(i),s=(n(132),n(8)),c=n(9),l=n(12),u=n(10),d=n(11),p=(n(133),n(37)),h=n(61);n(134);h.initializeApp({apiKey:"AIzaSyBczyXF8LB_35hI6awLk4lyYfjNPzN5bIo",authDomain:"habit-tracker-ade9c.firebaseapp.com",databaseURL:"https://habit-tracker-ade9c.firebaseio.com",projectId:"habit-tracker-ade9c",storageBucket:"habit-tracker-ade9c.appspot.com",messagingSenderId:"552514933256",appId:"1:552514933256:web:24f0cee2d4931841"});var b=h,m=n(39),f=n(59),g=n(31),x=n(266),y=n(258),w=n(265),v=n(259),k=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(y.a,{className:"container__loading"},r.a.createElement("p",null,"Wczytywanie..."),r.a.createElement(v.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Wczytywanie...")))}}]),e}(a.Component),j=n(261),E=n(262),O=n(33),C=n.n(O),_=(n(135),n(260)),N=n(112),T=n.n(N),I=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(T.a,{data:[{value:this.props.percentage,color:"#28a745",startOffset:0}],cy:50,cx:50,totalValue:100,lineWidth:20,startAngle:270,rounded:!0,label:function(t){var e=t.data,n=t.dataIndex;return Math.round(e[n].percentage)+"%"},labelStyle:{fontSize:"25px",fontFamily:"sans-serif"},labelPosition:0,style:{width:"100px",height:"100px",margin:"10px"}})}}]),e}(r.a.Component),H=n(264),S=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(H.a,{style:{overflowY:"auto"},show:this.props.showmodal,onHide:this.props.handleCloseModal},r.a.createElement(H.a.Header,{closeButton:!0},r.a.createElement(H.a.Title,null,"Potwierd\u017a usuni\u0119cie")),r.a.createElement(H.a.Body,null,"Czy na pewno chcesz usun\u0105\u0107 ten nawyk?"),r.a.createElement(H.a.Footer,null,r.a.createElement(_.a,{variant:"secondary",onClick:this.props.handleCloseModal},"Anuluj"),r.a.createElement(_.a,{variant:"danger",onClick:this.props.handleConfirm},"Tak")))}}]),e}(r.a.Component),M=n(114),P=n.n(M);function z(){var t=Object(p.a)(["\npadding: 20px;\nborder: 1px solid #ddd;\nmargin: 10px -10px; \nbackground: #fff;\nborder-radius: 5px;\nuser-select: none;\nbox-shadow: 0px 2px 3px rgba(0,0,0,.03), 1px 2px 2px rgba(0,0,0,.03), -1px -2px 2px rgba(0,0,0,.05);\n\n@media screen and (max-width: 769px){\n\tmargin: 10px\n}\n.col {\n\tmargin: 2px;\n\tcursor: pointer;\n    user-select: none;\n    line-height: 30px;\n}\n.fa {\n\tdisplay: none\n}\n.task {\n    border-radius: 5px;\n    background: #eee;\n\t// border: 1px solid #28a745;\n\twidth: 30px;\n\theight: 30px;\n\tflex: 0 0 30px;\n\tpadding: 0;\n\ttransition: background ease-in-out .09s\n\t&:hover {\n\t\tbackground: rgb(40, 167, 69, .5);\n\t\tcolor: #000;\n\t}\n}\n.taskDone.col{\n\tcolor: white;\n\tbackground: #28a745;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\t&:hover {\n\t\tbackground: rgb(40, 167, 69, .5);\n\t}\n}\n@media (hover: none) {\n\t.taskDone.col:hover {\n\t\tbackground: #28a745;\n\t}\n}\n.habit-title {\n\tdisplay: inline-block;\n\tmax-width: 80%;\n\tborder: 2px solid transparent;\n}\n.habit-btns {\n\tfloat: right;\n\tcolor: #ddd;\n}\n.input-title {\n\tmargin-left: -7px;\n\tpadding-left: 8px;\n\toutline: none;\n\tborder: 1px solid #007bff;\n\twidth: 75%;\n\tfont-weight: bold;\n\t@media screen and (max-width: 769px){\n\t\twidth: 60%\n\n\t}\n}\n.col__progress {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\t@media screen and (max-width: 769px){\n\t\tmargin-top: 20px\n\n\t}\n} //todo export it to another folder\n.habit__wrap {\n\tmin-width: 245px;\n\tflex-wrap: wrap;\n\talignItems: center;\n\tdisplay: flex; \n}\n.title__wrap {\n\ttext-align: left;\n    min-height: 40px;\n    border-bottom: 1px solid #ddd;\n\tmargin-bottom: 15px;\n}\n"]);return z=function(){return t},t}var D=m.a.div(z()),A=function(t){function e(t){var n;Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).getFormatedDaysArray=function(){for(var t=C()().daysInMonth(),e=[];t;){var n=C()().date(t).toISOString().split("T")[0];e.push(n),t--}return e.reverse()},n.checkIfActive=function(t){return!!n.props.habit.dates&&"undefined"!==typeof P()(n.props.habit.dates,{pushDate:t})},n.addDate=function(t){var e=t;n.datesFirebaseRef.push().set({pushDate:e}).then(function(){return n.addPoint()})},n.removeDate=function(t){n.datesFirebaseRef.orderByChild("pushDate").equalTo(t).once("value",function(t){var e,a=t.val();a&&(e=Object.keys(a)[0]),n.datesFirebaseRef.child(e).remove()}).then(function(){n.subtractPoint()})},n.addPoint=function(){n.props.habit.points>=0&&n.props.habit.points<=n.state.daysInMonth.length-1&&n.idHabitFirebaseRef.update({habitPoints:n.props.habit.points+1}).then(function(){n.setPercentage()})},n.subtractPoint=function(){0!==n.props.habit.points&&n.idHabitFirebaseRef.update({habitPoints:n.props.habit.points-1}).then(function(){n.setPercentage()})},n.changeIntoPercentage=function(t,e){return Math.ceil(100*t/e)},n.setPercentage=function(){var t=n.changeIntoPercentage(n.props.habit.points,C()().daysInMonth());n.setState({percentage:t})},n.handleChange=function(t){n.setState({inputHabitTitle:t.target.value})},n.editHabitTitle=function(t){n.state.editingTask?n.setState({editingTask:!1}):n.setState({editingTask:!0})},n.saveHabitTitle=function(t){0!==n.state.inputHabitTitle.length?(n.idHabitFirebaseRef.update({habitTitle:n.state.inputHabitTitle}),n.setState({editingTask:!1,errorInput:!1})):n.setState({errorInput:!0})},n.deleteHabit=function(){n.idHabitFirebaseRef.remove()},n.askToConfirmRemoval=function(){n.setState({showModal:!0})},n.confirm=function(){n.setState({confirmed:!0,showModal:!1}),n.deleteHabit()},n.handleCloseModal=function(){n.setState({showModal:!1})},n.state={daysInMonth:[],inputHabitTitle:n.props.habit.title,editingTask:!1,confirmed:!1,showModal:!1,errorInput:!1,percentage:0};var a=n.props.habit.idkey;return n.datesFirebaseRef=b.database().ref("habits/"+a).child("dates"),n.idHabitFirebaseRef=b.database().ref("habits/"+a),n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.getFormatedDaysArray();this.setState({daysInMonth:t}),this.setPercentage()}},{key:"handleClickOnTask",value:function(t,e){e?this.removeDate(t):this.addDate(t)}},{key:"render",value:function(){var t=this,e=this.props.habit,n=this.state,a=n.daysInMonth,i=n.editingTask,o=n.inputHabitTitle,s=n.errorInput,c=n.showModal,l=n.percentage;return r.a.createElement(D,{className:"col-md-6 col-sm-12"},r.a.createElement("div",{className:"title__wrap"},r.a.createElement("p",{style:{fontWeight:"bold",marginBottom:"5px"}},!i&&r.a.createElement("span",{className:"habit-title"},e.title),i&&r.a.createElement("input",{type:"text",className:s?"input-title error":"input-title",ref:function(t){return t&&t.focus()},value:o,onChange:this.handleChange,onKeyPress:function(e){"Enter"===e.key&&t.saveHabitTitle()}}),r.a.createElement("span",{className:"habit-btns"},i?r.a.createElement(_.a,{variant:"light mr-2",size:"sm",onClick:this.saveHabitTitle,title:"zapisz"},r.a.createElement("i",{className:"fas fa-check"})):r.a.createElement(_.a,{variant:"light mr-2",size:"sm",onClick:this.editHabitTitle,title:"edytuj tytu\u0142"},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement(_.a,{variant:"light",size:"sm",onClick:this.askToConfirmRemoval,title:"usu\u0144"},r.a.createElement("i",{className:"far fa-trash-alt"})))),r.a.createElement(S,{showmodal:c,handleConfirm:this.confirm,handleHide:this.handleHide,handleCloseModal:this.handleCloseModal})),r.a.createElement(j.a,null,r.a.createElement(E.a,{md:7,sm:12},r.a.createElement("div",{className:"habit__wrap"},a.map(function(e,n){var a=t.checkIfActive(e),i=a?"task taskDone":"task";return r.a.createElement(E.a,{key:e,className:i,"data-date":e,onClick:function(){return t.handleClickOnTask(e,a)}},n+1)}))),r.a.createElement(E.a,{className:"col__progress",md:5,sm:12},r.a.createElement("p",{className:"mb-0"},"Post\u0119p:"),r.a.createElement(I,{percentage:l}),r.a.createElement("p",null,e.points,"/30"))))}}]),e}(a.Component),F=n(263),R=n(268),B=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(F.a,{className:"mb-3"},r.a.createElement(R.a,{ref:"taskInput",placeholder:"wpisz nazw\u0119...","aria-label":"nazwa","aria-describedby":"basic-addon2",onChange:this.props.handleChange,style:{boxShadow:"none"},className:this.props.error?"error":"",value:this.props.inputHabit}),r.a.createElement(F.a.Append,null,r.a.createElement(_.a,{onClick:this.props.handleClick,style:{borderColor:"#58a4b0",backgroundColor:"#58a4b0",boxShadow:"none"}},"dodaj nowy nawyk")))}}]),e}(r.a.Component),W=n(267),L=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={show:n.props.showToast},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(W.a,{onClose:this.props.handleCloseToast,style:{zIndex:"1",position:"fixed",background:"white",bottom:"20px",left:"20px"},show:this.props.showToast,autohide:!0},r.a.createElement(W.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},"Stworzono nowy nawyk")))}}]),e}(r.a.Component);function U(){var t=Object(p.a)(["\n\t.col {\n\t\tmargin: 2px;\n\t\tcursor: pointer;\n\t\tuser-select: none;\n\t}\n\n\t.calendar {\n\t\tcursor: default\n\t}\n\t.error {\n\t\tborder-color: red\n\t}\n\t.row__subtitle {\n\t\twidth: 100%;\n\t\tpadding: 20px 0;\n\t\tmargin: 20px 0 0 0;\n\t\tjustify-content: space-between;\n\t\t@media screen and (max-width: 769px){\n\t\t\tjustify-content: center\n\t\t\t.col-md-6 {\n\t\t\t\tpadding: 0 !important;\n\t\t\t}\n\t\t}\n\t\th2 {\n\t\t\ttext-transform: capitalize;\n\t\t}\n\t}\n\t.container__loading {\n\t\tdisplay: flex;\n\t\tjustify-content: center; \n\t\talign-items: center; \n\t\tflex-direction: column;\n\t\theight: 90vh;\n\t}\n\t.container__app {\n\t\tmax-width: 900px;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tpadding: 5px;\n\t}\n\t.container__habits {\n\t\tmax-width: 900px;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-between;\n\t}\n\t.container__stats{\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tflex-direction: column;\n\t\tpadding: 20px;\n\t\tmax-width: 900px;\n\t\tborder: 1px solid #ddd;\n\t\tbackground: #fff;\n\t\tborder-radius: 5px;\n\t\tuser-select: none;\n\t\tbox-shadow: 0px 2px 3px rgba(0,0,0,.03), 1px 2px 2px rgba(0,0,0,.03), -1px -2px 2px rgba(0,0,0,.03);\n\t}\n\t.input__error {\n\t\tdisplay: block;\n\t\ttext-align: left;\n\t\tcolor: red;\n\t\tposition: absolute;\n\t\tbottom: 0\n\t}\n"]);return U=function(){return t},t}m.a.div(U());var J=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleChangeOnInput=function(t){var e=t.target.value;n.setState({inputNewHabit:e,error:!1})},n.addNewHabit=function(t){0!==n.state.inputNewHabit.length?(b.database().ref("habits").push({habitTitle:n.state.inputNewHabit,habitPoints:0,dates:{}}).then(n.setState({showToast:!0})),n.setState({error:!1,inputNewHabit:""})):n.setState({error:!0})},n.handleCloseToast=function(){n.setState({showToast:!1})},n.state={inputNewHabit:"",error:!1,currentMonth:"",disableBtn:!1,showToast:!1},n.timeout=null,n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.setCurrentMonth()}},{key:"setCurrentMonth",value:function(){var t=C()().format("MMMM");this.setState({currentMonth:t})}},{key:"render",value:function(){var t=this.state,e=t.error,n=t.currentMonth,a=t.disableBtn,i=t.inputNewHabit,o=t.showToast;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{showToast:o,handleCloseToast:this.handleCloseToast}),r.a.createElement(y.a,{className:"container__app"},r.a.createElement(j.a,{className:"row__subtitle"},r.a.createElement("h2",null," ",n," "),r.a.createElement(E.a,{md:6,style:{padding:"0 0 0 10px"}},r.a.createElement(B,{error:e,handleChange:this.handleChangeOnInput,handleClick:this.addNewHabit,className:a?"disabled":null,inputHabit:i}),e&&r.a.createElement("small",{className:"input__error"},"* pole jest wymagane ")))),r.a.createElement(y.a,{className:"container__habits"},this.props.habits.map(function(t){return r.a.createElement(A,{habit:t,key:t.idkey})})))}}]),e}(a.Component),K=n(269),V=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).changeIntoPercentage=function(t,e){return Math.ceil(100*n.props.habit.points/30)},n.state={now:n.changeIntoPercentage()},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{style:{textAlign:"left"}},this.props.habit.title),r.a.createElement(K.a,{variant:"success",now:this.state.now,label:"".concat(this.state.now,"%"),style:{marginBottom:"20px",color:"#000"}}))}}]),e}(r.a.Component),Y=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(y.a,{className:"container__app",style:{flexDirection:"column"}},r.a.createElement(j.a,{className:"row__subtitle"},r.a.createElement("h2",{className:"text-left"},"Statystki")),r.a.createElement(y.a,{className:"container__stats mb-5",style:{marginTop:"23px"}},this.props.habits.map(function(t){return r.a.createElement(V,{habit:t,key:t.idkey})})))}}]),e}(a.Component),q=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("h1",null,"Zarejestrowano")}}]),e}(a.Component);function X(){var t=Object(p.a)(["\n\t.col {\n\t\tmargin: 2px;\n\t\tcursor: pointer;\n\t\tuser-select: none;\n\t}\n\n\t.calendar {\n\t\tcursor: default\n\t}\n\t.error {\n\t\tborder-color: red\n\t}\n\t.row__subtitle {\n\t\twidth: 100%;\n\t\tpadding: 20px 0;\n\t\tmargin: 20px 0 0 0;\n\t\tjustify-content: space-between;\n\t\t@media screen and (max-width: 769px){\n\t\t\tjustify-content: center\n\t\t\t.col-md-6 {\n\t\t\t\tpadding: 0 !important;\n\t\t\t}\n\t\t}\n\t\th2 {\n\t\t\ttext-transform: capitalize;\n\t\t}\n\t}\n\t.container__loading {\n\t\tdisplay: flex;\n\t\tjustify-content: center; \n\t\talign-items: center; \n\t\tflex-direction: column;\n\t\theight: 90vh;\n\t}\n\t.container__app {\n\t\tmax-width: 900px;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tpadding: 5px;\n\t}\n\t.container__habits {\n\t\tmax-width: 900px;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-between;\n\t}\n\t.container__stats{\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tflex-direction: column;\n\t\tpadding: 20px;\n\t\tmax-width: 900px;\n\t\tborder: 1px solid #ddd;\n\t\tbackground: #fff;\n\t\tborder-radius: 5px;\n\t\tuser-select: none;\n\t\tbox-shadow: 0px 2px 3px rgba(0,0,0,.03), 1px 2px 2px rgba(0,0,0,.03), -1px -2px 2px rgba(0,0,0,.03);\n\t}\n\t.input__error {\n\t\tdisplay: block;\n\t\ttext-align: left;\n\t\tcolor: red;\n\t\tposition: absolute;\n\t\tbottom: 0\n\t}\n"]);return X=function(){return t},t}var Z=m.a.div(X()),$=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).setHabits=function(){b.database().ref("habits").on("value",function(t){var e=t.val(),a=[];for(var r in e)a.push({idkey:r,title:e[r].habitTitle,points:e[r].habitPoints,dates:e[r].dates});n.setState({habits:a,loading:!1})})},n.state={habits:null,loading:!0},n.timeout=null,n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.setHabits()}},{key:"render",value:function(){var t=this.state,e=t.loading,n=t.habits;return r.a.createElement(Z,null,e&&r.a.createElement(k,null),!e&&r.a.createElement(f.a,null,r.a.createElement(x.a,{style:{backgroundColor:"#373f51"},variant:"dark"},r.a.createElement(y.a,{className:"container__app "},r.a.createElement(x.a.Brand,{href:"/habit-tracker-v1/"},"Habit tracker"),r.a.createElement(w.a,{className:"ml-auto"},r.a.createElement(f.b,{className:"nav-link",to:"/habit-tracker-v1/"},"Nawyki"),r.a.createElement(f.b,{className:"nav-link",to:"/habit-tracker-v1/stats"},"Statystyki"),r.a.createElement("a",{className:"nav-link",onClick:function(){return b.auth().signOut()}},"Wyloguj")))),r.a.createElement(g.a,{path:"/habit-tracker-v1/signedin",exact:!0,render:function(){return r.a.createElement(q,null)}}),r.a.createElement(g.a,{path:"/habit-tracker-v1/",exact:!0,render:function(){return r.a.createElement(J,{habits:n})}}),r.a.createElement(g.a,{path:"/habit-tracker-v1/stats",render:function(){return r.a.createElement(Y,{habits:n})}})))}}]),e}(a.Component),G=n(122),Q=n(44),tt=n.n(Q),et=n(124),nt={signInFlow:"popup",credentialHelper:n.n(et).a.auth.CredentialHelper.NONE,signInOptions:[tt.a.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},at=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={isSignedIn:!1},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.unregisterAuthObserver=tt.a.auth().onAuthStateChanged(function(e){return t.setState({isSignedIn:!!e})})}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver()}},{key:"render",value:function(){return this.state.isSignedIn?r.a.createElement("div",{className:"App"},r.a.createElement("main",null,r.a.createElement($,{user:tt.a.auth().currentUser.displayName}))):r.a.createElement(G.StyledFirebaseAuth,{uiConfig:nt,firebaseAuth:tt.a.auth()})}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(255);o.a.render(r.a.createElement(at,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[127,1,2]]]);
//# sourceMappingURL=main.4f94d19c.chunk.js.map